# northRobomaster
North's robomaster works
代码基本思路：通过颜色明度饱和度（以及一系列去噪点操作如折角点多少和面积大小）筛选出灯条
然后以旋转矩形的角度和旋转矩形中心点的y差距为基本筛选条件来配对，角度差在5度以内的话就判定为一组
之后以灯条长（旋转矩形边长）和装甲板的理论高比例来取得透视变换所需的装甲板顶点（注：这一步需要注意旋转矩形的p[0]点总为左上点，需通过旋转矩形size属性中长和宽的大小关系来确定灯条方向）
然后以顶点和装甲板标准尺寸来进行透视变换，程序结束。
（很多注释掉的代码都是调试用的，不用管）
具体代码解释：
line9，10：筛选参数和去噪处理参数，h是色彩，s是饱和度,v是明度（因为用的是hsv色彩空间）。kernelsize是扩大(dilate)和腐蚀(erode)所用的卷积核大小，因为是奇数所以后面处理的时候用了2n+1的方法（吐舌）。gaussx和gaussy是高斯模糊中的x和y参数，gausscoresize是高斯模糊的卷积核大小。cannyx和cannyy是砍你边缘检测的x，y参数。Corpointmax,Corpointmin是使用折线拟合后的最大顶点数和最小顶点数。arealimit是最小面积（x100），hw是最小长宽比，light是使用灰度图辨识的颜色值（备选项，优先还是hsv，可以忽略）
先看main函数
读取图像，定义卷积核，转换为hsv色彩空间，inRange函数获得mask蒙版，高斯模糊砍你边缘检测扩大腐蚀去噪常规操作（参数调了好久QAQ）最后处理好的图像是imgErode。
深拷贝一个原图储存在imgRect来准备输出，和原图一起放到处理函数getContours
现在看getContours 函数
创建容器contours来储存所有轮廓，hierarchy是层次结构，然后使用findContours来找轮廓
